import{e as x,h as A,j as N,q as B,k as c,l as k,m as E,o as D,B as g,v as H,w as S,x as q,y as l,z as v,U as L,A as R,H as U,C as j,D as z}from"./Boz4_rnh.js";import{B as C}from"./DumiXAwv.js";const T=0,_=1;function O(m,b,y,r,n){l&&R();var h=x(),t=L,i=h?k(t):E(t,!1,!1),o=h?k(t):E(t,!1,!1),s=new C(m);A(()=>{var u=b(),d=!1;let p=l&&N(u)===(m.data===U);if(p&&(j(z()),v(!1)),N(u)){var w=D(),I=!1;const a=e=>{if(!d){I=!0,w(!1),g.ensure(),l&&v(!1);try{e()}finally{H(),S||q()}}};u.then(e=>{a(()=>{c(i,e),s.ensure(_,r&&(f=>r(f,i)))})},e=>{a(()=>{if(c(o,e),s.ensure(_,n&&(f=>n(f,o))),!n)throw o.v})}),l?s.ensure(T,y):B(()=>{I||a(()=>{s.ensure(T,y)})})}else c(i,u),s.ensure(_,r&&(a=>r(a,i)));return p&&v(!0),()=>{d=!0}})}export{O as a};
